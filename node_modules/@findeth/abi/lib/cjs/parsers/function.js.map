{"version":3,"sources":["../../../src/parsers/function.ts"],"names":["getFunction","input","address","selector","fn","isDynamic","encode","buffer","value","fixedBytes","type","decode","slice"],"mappings":";;;;;;;AACA;;AACA;;AAQO,MAAMA,WAAW,GAAIC,KAAD,IAAqC;AAC9D,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B,WAAO,oBAAQA,KAAR,CAAP;AACD;;AAED,SAAO,mBAAO,CAAC,oBAAQA,KAAK,CAACC,OAAd,CAAD,EAAyB,oBAAQD,KAAK,CAACE,QAAd,CAAzB,CAAP,CAAP;AACD,CANM;;;AAQA,MAAMC,EAA0C,GAAG;AACxDC,EAAAA,SAAS,EAAE,KAD6C;;AAGxDC,EAAAA,MAAM,CAAC;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,GAAD,EAA0D;AAC9D,UAAMJ,EAAE,GAAGJ,WAAW,CAACQ,KAAD,CAAtB;AACA,WAAOC,uBAAWH,MAAX,CAAkB;AAAEI,MAAAA,IAAI,EAAE,SAAR;AAAmBH,MAAAA,MAAnB;AAA2BC,MAAAA,KAAK,EAAEJ;AAAlC,KAAlB,CAAP;AACD,GANuD;;AAQxDO,EAAAA,MAAM,CAAC;AAAEH,IAAAA;AAAF,GAAD,EAA0C;AAC9C,WAAO;AACLN,MAAAA,OAAO,EAAG,KAAI,kBAAMM,KAAK,CAACI,KAAN,CAAY,CAAZ,EAAe,EAAf,CAAN,CAA0B,EADnC;AAELT,MAAAA,QAAQ,EAAE,kBAAMK,KAAK,CAACI,KAAN,CAAY,EAAZ,EAAgB,EAAhB,CAAN;AAFL,KAAP;AAID;;AAbuD,CAAnD","sourcesContent":["import { DecodeArgs, EncodeArgs, FunctionLike, Parser, SolidityFunction } from '../types';\nimport { concat, fromHex, toHex } from '../utils';\nimport { fixedBytes } from './fixed-bytes';\n\n/**\n * Get the encoded function as buffer. It consists of the address (20 bytes) and function selector (4 bytes).\n *\n * @param input The function-like input.\n * @return The function as buffer.\n */\nexport const getFunction = (input: FunctionLike): Uint8Array => {\n  if (typeof input === 'string') {\n    return fromHex(input);\n  }\n\n  return concat([fromHex(input.address), fromHex(input.selector)]);\n};\n\nexport const fn: Parser<FunctionLike, SolidityFunction> = {\n  isDynamic: false,\n\n  encode({ buffer, value }: EncodeArgs<FunctionLike>): Uint8Array {\n    const fn = getFunction(value);\n    return fixedBytes.encode({ type: 'bytes24', buffer, value: fn });\n  },\n\n  decode({ value }: DecodeArgs): SolidityFunction {\n    return {\n      address: `0x${toHex(value.slice(0, 20))}`,\n      selector: toHex(value.slice(20, 24))\n    };\n  }\n};\n"],"file":"function.js"}