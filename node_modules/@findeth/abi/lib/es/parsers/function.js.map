{"version":3,"sources":["../../../src/parsers/function.ts"],"names":["concat","fromHex","toHex","fixedBytes","getFunction","input","address","selector","fn","isDynamic","encode","buffer","value","type","decode","slice"],"mappings":"AACA,SAASA,MAAT,EAAiBC,OAAjB,EAA0BC,KAA1B,QAAuC,UAAvC;AACA,SAASC,UAAT,QAA2B,eAA3B;AAQA,OAAO,MAAMC,WAAW,GAAIC,KAAD,IAAqC;AAC9D,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B,WAAOJ,OAAO,CAACI,KAAD,CAAd;AACD;;AAED,SAAOL,MAAM,CAAC,CAACC,OAAO,CAACI,KAAK,CAACC,OAAP,CAAR,EAAyBL,OAAO,CAACI,KAAK,CAACE,QAAP,CAAhC,CAAD,CAAb;AACD,CANM;AAQP,OAAO,MAAMC,EAA0C,GAAG;AACxDC,EAAAA,SAAS,EAAE,KAD6C;;AAGxDC,EAAAA,MAAM,CAAC;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,GAAD,EAA0D;AAC9D,UAAMJ,EAAE,GAAGJ,WAAW,CAACQ,KAAD,CAAtB;AACA,WAAOT,UAAU,CAACO,MAAX,CAAkB;AAAEG,MAAAA,IAAI,EAAE,SAAR;AAAmBF,MAAAA,MAAnB;AAA2BC,MAAAA,KAAK,EAAEJ;AAAlC,KAAlB,CAAP;AACD,GANuD;;AAQxDM,EAAAA,MAAM,CAAC;AAAEF,IAAAA;AAAF,GAAD,EAA0C;AAC9C,WAAO;AACLN,MAAAA,OAAO,EAAG,KAAIJ,KAAK,CAACU,KAAK,CAACG,KAAN,CAAY,CAAZ,EAAe,EAAf,CAAD,CAAqB,EADnC;AAELR,MAAAA,QAAQ,EAAEL,KAAK,CAACU,KAAK,CAACG,KAAN,CAAY,EAAZ,EAAgB,EAAhB,CAAD;AAFV,KAAP;AAID;;AAbuD,CAAnD","sourcesContent":["import { DecodeArgs, EncodeArgs, FunctionLike, Parser, SolidityFunction } from '../types';\nimport { concat, fromHex, toHex } from '../utils';\nimport { fixedBytes } from './fixed-bytes';\n\n/**\n * Get the encoded function as buffer. It consists of the address (20 bytes) and function selector (4 bytes).\n *\n * @param input The function-like input.\n * @return The function as buffer.\n */\nexport const getFunction = (input: FunctionLike): Uint8Array => {\n  if (typeof input === 'string') {\n    return fromHex(input);\n  }\n\n  return concat([fromHex(input.address), fromHex(input.selector)]);\n};\n\nexport const fn: Parser<FunctionLike, SolidityFunction> = {\n  isDynamic: false,\n\n  encode({ buffer, value }: EncodeArgs<FunctionLike>): Uint8Array {\n    const fn = getFunction(value);\n    return fixedBytes.encode({ type: 'bytes24', buffer, value: fn });\n  },\n\n  decode({ value }: DecodeArgs): SolidityFunction {\n    return {\n      address: `0x${toHex(value.slice(0, 20))}`,\n      selector: toHex(value.slice(20, 24))\n    };\n  }\n};\n"],"file":"function.js"}